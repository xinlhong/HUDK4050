---
title: "ACA01"
output: html_document
---
  
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## XINLEI HONG
## ACA_01

**TASK 1**
  
```{R TASK1}
library(tidyverse)
library(readr)

datcoll <- read_csv("/Users/luke/Documents/HUDK4050/ACA1_dataset/CollegeScorecard.csv")
datcol1 <- select(datcoll, INSTNM, CITY, STABBR, LOCALE, UGDS_2MOR, ACTCM75)
#Let's first do some data cleaning by narrowing down data to 6 columns.
datcol2 <- filter(datcol1, (LOCALE == 11 | LOCALE == 12))
#After that, let's find city life alex wants by narrowing data to midsize city and large city.
summary(datcol2)
```



**TASK 2**
```{R TASK2}
library(readr)
crime <- read_csv("/Users/luke/Documents/HUDK4050/ACA1_dataset/Crime_2015.csv")
#For crime rate section, I only consider violent offenses. 
#Thus, let's rearrange the data with smaller or equal to 250 crime rate and filter out useless variables
crime1 <- crime %>%
  filter(ViolentCrime <= 250) %>%
  select(City, State, ViolentCrime) %>%
  arrange(ViolentCrime)
summary(crime1)
```

**TASK 3**
```{R TASK3}
#Now let's combine two table by variables city and State
colnames(crime1)[colnames(crime1) == "City"] <- "CITY"
colnames(crime1)[colnames(crime1) == "State"] <- "STABBR"
total <- inner_join(datcol2, crime1, by=c("CITY", "STABBR"))
summary(total)
#right now we have only 123 schools left.
```

**TASK 4**
```{R TASK4}
#Now let's go check diversity, luckily, there is a variable called 'demographics.race_ethnicity.two_or_more' which represents what alex wants
total1 <- filter(total, UGDS_2MOR != 0)
```


**TASK 5**
```{R TASK5}
#When I consider school's quality, I prefer to use school's ACT scores, it reflects the overall academic level is high. On the other hand, it also shows the academic atmosphere of this university is very good.
total1 <- arrange(total1, desc(ACTCM75))
summary(total1)
```


**TASK 6**
```{R TASK6}
#Finally, let's chose the top 20 from total1 tibble
final1 <- top_n(total1, 20, ACTCM75)
#Here is a list of 20 schools Alex may consider, 40 schools are still too many to choose.
print(final1, n=21)
```




